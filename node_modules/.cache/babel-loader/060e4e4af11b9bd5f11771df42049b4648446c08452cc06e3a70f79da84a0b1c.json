{"ast":null,"code":"import _defineProperty from\"/Users/kelendis/Documents/GitHab/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/kelendis/Documents/GitHab/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kelendis/Documents/GitHab/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditProfilePopup(_ref){var _value$name,_value$about;var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,isLoading=_ref.isLoading;var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];React.useEffect(function(){setValue({name:currentUser.name,about:currentUser.about});},[currentUser]);function handleChange(e){setValue(_objectSpread(_objectSpread({},value),{},_defineProperty({},e.target.name,e.target.value)));}function handleSubmit(e){e.preventDefault();onUpdateUser(value);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:isLoading?\"Сохранение...\":\"Сохранить\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form__field\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form__input_type_name\",type:\"text\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",id:\"Username\",minLength:\"2\",maxLength:\"40\",required:true,value:(_value$name=value.name)!==null&&_value$name!==void 0?_value$name:\"\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error\",id:\"Username-error\",children:\" \"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form__field\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form__input_type_about\",type:\"text\",placeholder:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\",name:\"about\",id:\"about\",minLength:\"2\",maxLength:\"200\",required:true,value:(_value$about=value.about)!==null&&_value$about!==void 0?_value$about:\"\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error\",id:\"about-error\",children:\" \"})]})]});}","map":{"version":3,"names":["React","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","_value$name","_value$about","isOpen","onClose","onUpdateUser","isLoading","currentUser","useContext","_React$useState","useState","_React$useState2","_slicedToArray","value","setValue","useEffect","name","about","handleChange","e","_objectSpread","_defineProperty","target","handleSubmit","preventDefault","title","buttonText","onSubmit","children","className","type","placeholder","id","minLength","maxLength","required","onChange"],"sources":["/Users/kelendis/Documents/GitHab/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup({\n  isOpen,\n  onClose,\n  onUpdateUser,\n  isLoading,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [value, setValue] = React.useState({});\n\n  React.useEffect(() => {\n    setValue({\n      name: currentUser.name,\n      about: currentUser.about,\n    });\n  }, [currentUser]);\n\n  function handleChange(e) {\n    setValue({ ...value, [e.target.name]: e.target.value });\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser(value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      buttonText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__field\">\n        <input\n          className=\"form__input form__input_type_name\"\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Имя\"\n          id=\"Username\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          value={value.name ?? \"\"}\n          onChange={handleChange}\n        />\n        <span className=\"form__input-error\" id=\"Username-error\">\n          {\" \"}\n        </span>\n      </label>\n\n      <label className=\"form__field\">\n        <input\n          className=\"form__input form__input_type_about\"\n          type=\"text\"\n          placeholder=\"Описание профиля\"\n          name=\"about\"\n          id=\"about\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          value={value.about ?? \"\"}\n          onChange={handleChange}\n        />\n        <span className=\"form__input-error\" id=\"about-error\">\n          {\" \"}\n        </span>\n      </label>\n    </PopupWithForm>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}