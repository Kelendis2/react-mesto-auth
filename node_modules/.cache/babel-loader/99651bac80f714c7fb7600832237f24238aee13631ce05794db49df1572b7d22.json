{"ast":null,"code":"import _slicedToArray from\"/Users/kelendis/Documents/GitHab/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState,useEffect}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar,isLoading=_ref.isLoading;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isValidity=_useState2[0],setIsValidity=_useState2[1];var inputRef=useRef(0);useEffect(function(){isOpen&&(inputRef.current.value=\"\");},[isOpen]);function handleSubmit(evt){evt.preventDefault();onUpdateAvatar({avatar:inputRef.current.value});}function handleChange(){setIsValidity(inputRef.current.checkValidity());}return/*#__PURE__*/_jsx(PopupWithForm,{name:\"avatar\",title:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",buttonText:isLoading?\"Сохранение...\":\"Сохранить\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"label\",{className:\"form__field\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form__input_type_avatar\\\" \".concat(!isValidity),type:\"url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",name:\"avatar\",id:\"avatar\",required:true,ref:inputRef,onChange:function onChange(evt){return handleChange(evt.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error\",id:\"avatar-error\",children:\" \"})]})});}","map":{"version":3,"names":["React","useRef","useState","useEffect","PopupWithForm","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","isLoading","_useState","_useState2","_slicedToArray","isValidity","setIsValidity","inputRef","current","value","handleSubmit","evt","preventDefault","avatar","handleChange","checkValidity","name","title","buttonText","onSubmit","children","className","concat","type","placeholder","id","required","ref","onChange","target"],"sources":["/Users/kelendis/Documents/GitHab/react-mesto-auth/src/components/EditAvatarPopup.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditAvatarPopup({\n  isOpen,\n  onClose,\n  onUpdateAvatar,\n  isLoading,\n}) {\n  const [isValidity, setIsValidity] = useState(true);\n  const inputRef = useRef(0);\n\n  useEffect(() => {\n    isOpen && (inputRef.current.value = \"\");\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: inputRef.current.value,\n    });\n  }\n\n  function handleChange() {\n    setIsValidity(inputRef.current.checkValidity());\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Изменить аватар\"\n      buttonText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__field\">\n        <input\n          className={`form__input form__input_type_avatar\" ${!isValidity}`}\n          type=\"url\"\n          placeholder=\"Ссылка на картинку\"\n          name=\"avatar\"\n          id=\"avatar\"\n          required\n          ref={inputRef}\n          onChange={(evt) => handleChange(evt.target.value)}\n        />\n        <span className=\"form__input-error\" id=\"avatar-error\">\n          {\" \"}\n        </span>\n      </label>\n    </PopupWithForm>\n  );\n}\n"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC1D,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,cAAe,SAAS,CAAAC,eAAeA,CAAAC,IAAA,CAKpC,IAJD,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CACNC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CACPC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CACdC,SAAS,CAAAJ,IAAA,CAATI,SAAS,CAET,IAAAC,SAAA,CAAoCb,QAAQ,CAAC,IAAI,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,GAAM,CAAAI,QAAQ,CAAGnB,MAAM,CAAC,CAAC,CAAC,CAE1BE,SAAS,CAAC,UAAM,CACdQ,MAAM,GAAKS,QAAQ,CAACC,OAAO,CAACC,KAAK,CAAG,EAAE,CAAC,CACzC,CAAC,CAAE,CAACX,MAAM,CAAC,CAAC,CAEZ,QAAS,CAAAY,YAAYA,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,CAAC,CAAC,CACpBZ,cAAc,CAAC,CACba,MAAM,CAAEN,QAAQ,CAACC,OAAO,CAACC,KAC3B,CAAC,CAAC,CACJ,CAEA,QAAS,CAAAK,YAAYA,CAAA,CAAG,CACtBR,aAAa,CAACC,QAAQ,CAACC,OAAO,CAACO,aAAa,CAAC,CAAC,CAAC,CACjD,CAEA,mBACEtB,IAAA,CAACF,aAAa,EACZyB,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAC,uFAAiB,CACvBC,UAAU,CAAEjB,SAAS,CAAG,eAAe,CAAG,WAAY,CACtDH,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBoB,QAAQ,CAAET,YAAa,CAAAU,QAAA,cAEvBzB,KAAA,UAAO0B,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC5B3B,IAAA,UACE4B,SAAS,0CAAAC,MAAA,CAA0C,CAACjB,UAAU,CAAG,CACjEkB,IAAI,CAAC,KAAK,CACVC,WAAW,CAAC,oGAAoB,CAChCR,IAAI,CAAC,QAAQ,CACbS,EAAE,CAAC,QAAQ,CACXC,QAAQ,MACRC,GAAG,CAAEpB,QAAS,CACdqB,QAAQ,CAAE,SAAAA,SAACjB,GAAG,QAAK,CAAAG,YAAY,CAACH,GAAG,CAACkB,MAAM,CAACpB,KAAK,CAAC,EAAC,CACnD,CAAC,cACFhB,IAAA,SAAM4B,SAAS,CAAC,mBAAmB,CAACI,EAAE,CAAC,cAAc,CAAAL,QAAA,CAClD,GAAG,CACA,CAAC,EACF,CAAC,CACK,CAAC,CAEpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}